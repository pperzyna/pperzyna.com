<template>
  <div>
    <section class="hero hero-main is-fullheight-with-navbar">
      <div class="hero-body">
        <div class="container">
          <div class="columns is-vcentered">
            <div class="column has-text-centered">
              <div class="pb-2">
                <figure class="image is-128x128">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="144"
                    height="144"
                  >
                    <path
                      d="M22.29 22.29C3 41.58-2.338 69.688 6.126 94.472l-1.612.551c-8.662-25.35-3.21-54.15 16.574-73.935C40.873 1.303 69.667-4.155 95.023 4.514l-.551 1.612C69.688-2.338 41.58 3.015 22.297 22.297zm27.245 115.591c24.784 8.464 52.892 3.111 72.175-16.171 19.29-19.29 24.635-47.39 16.171-72.175l1.612-.551c8.655 25.342 3.204 54.143-16.581 73.928-19.785 19.785-48.579 25.243-73.935 16.574l.551-1.612z"
                      clip-rule="evenodd"
                      fill-rule="evenodd"
                      fill="#72c89e"
                    ></path></svg
                  ><img
                    src="/img/logo/piotrperzyna.jpg"
                    alt="Piotr Perzyna"
                    loading="lazy"
                  />
                </figure>
              </div>
              <div class="pt-6 pb-2">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 65.882 10.191"
                  height="35"
                >
                  <g
                    style="line-height: 1.25"
                    aria-label="Piotr Perzyna"
                    fill="#212433"
                    font-weight="700"
                    font-size="10.583"
                    font-family="Playfair Display"
                    letter-spacing="0"
                    word-spacing="0"
                    stroke-width=".265"
                  >
                    <path
                      d="M2.475 7.018q0 .423.088.62.088.191.315.258.233.067.729.072v.233Q2.305 8.17 1.669 8.17q-.305 0-1.669.031v-.212q.351-.015.512-.083.16-.067.217-.248.062-.18.062-.578V1.83q0-.399-.062-.58-.057-.18-.217-.248Q.352.935 0 .92V.708q.532.03 1.607.03.424 0 .94-.01.517-.01.719-.01.961 0 1.617.264.662.258.987.728.331.47.331 1.096 0 .579-.294 1.116-.295.538-1.003.894-.708.357-1.87.357h-.559zM2.93 4.96q.863 0 1.189-.548.325-.553.325-1.493 0-1.029-.305-1.514Q3.834.92 3.132.92q-.285 0-.424.077-.135.073-.186.264-.047.186-.047.568v3.132zM8.046 0q.44 0 .698.217.263.217.263.594 0 .383-.263.6-.259.217-.698.217-.45 0-.708-.217-.258-.217-.258-.6 0-.377.258-.594Q7.596 0 8.046 0zm.827 7.22q0 .294.067.46.067.164.212.232.145.067.398.067V8.2Q8.496 8.16 8.144 8.16q-.336 0-1.473.041V7.98q.254 0 .398-.067.15-.068.212-.233.067-.165.067-.46V3.881q0-.491-.15-.708-.15-.222-.527-.222v-.222q.336.03.657.03.935 0 1.545-.144zM12.733 2.584q1.21 0 1.897.692.692.693.692 2.197 0 1.498-.692 2.19-.688.688-1.897.688-1.21 0-1.902-.687-.692-.693-.692-2.191 0-1.5.692-2.192.693-.697 1.902-.697zm0 .207q-.455 0-.729.661-.268.661-.268 2.02 0 1.354.268 2.01.274.657.73.657.459 0 .723-.651.268-.656.268-2.015 0-1.365-.268-2.021-.264-.661-.724-.661zM19.379 2.739v.212h-1.25v4.268q0 .315.113.45.113.129.351.129.45 0 .718-.636l.181.099q-.398 1.09-1.447 1.09-.697 0-1.059-.362-.222-.217-.305-.548-.077-.335-.077-.925V2.951h-.89v-.212h.89V1.333q.873 0 1.524-.34v1.746zM21.895 3.597q.202-.45.58-.729.381-.284.862-.284.32 0 .538.14.217.139.32.361.103.217.103.47 0 .393-.227.641t-.6.248q-.361 0-.573-.18-.207-.187-.207-.497 0-.506.465-.827-.067-.015-.129-.015-.072 0-.165.026-.27.041-.491.258-.222.212-.352.512-.124.3-.124.584V7.11q0 .49.238.682.238.186.76.186V8.2q-1.323-.041-1.685-.041-.336 0-1.514.041V7.98q.253 0 .398-.067.15-.068.212-.233.067-.165.067-.46V3.881q0-.491-.15-.708-.15-.222-.527-.222v-.222q.336.03.656.03.936 0 1.545-.144zM29.45 7.018q0 .423.088.62.088.191.316.258.232.067.728.072v.233q-1.302-.031-1.938-.031-.305 0-1.669.031v-.212q.352-.015.512-.083.16-.067.217-.248.062-.18.062-.578V1.83q0-.399-.062-.58-.057-.18-.217-.248-.16-.067-.512-.082V.708q.532.03 1.607.03.424 0 .94-.01.518-.01.72-.01.96 0 1.617.264.661.258.987.728.33.47.33 1.096 0 .579-.294 1.116-.295.538-1.003.894-.708.357-1.87.357h-.559zm.455-2.057q.863 0 1.189-.548.325-.553.325-1.493 0-1.029-.305-1.514Q30.81.92 30.107.92q-.285 0-.424.077-.134.073-.186.264-.047.186-.047.568v3.132zM35.233 4.93q-.016.155-.016.496 0 .703.197 1.168.196.46.506.677.316.212.672.212.873 0 1.4-.848l.187.062q-.135.434-.419.812-.28.372-.713.61-.43.232-.982.232-.729 0-1.282-.31-.547-.31-.857-.94-.305-.636-.305-1.577 0-.961.33-1.617.331-.662.915-.992.584-.331 1.349-.331 1.99 0 1.99 2.346zm1.638-.202q.016-.826-.17-1.374-.181-.548-.553-.548-.378 0-.63.47-.249.465-.306 1.452zM40.954 3.597q.201-.45.578-.729.383-.284.863-.284.32 0 .538.14.217.139.32.361.104.217.104.47 0 .393-.228.641-.227.248-.6.248-.361 0-.573-.18-.207-.187-.207-.497 0-.506.465-.827-.067-.015-.129-.015-.072 0-.165.026-.269.041-.491.258-.222.212-.351.512-.124.3-.124.584V7.11q0 .49.237.682.238.186.76.186V8.2q-1.323-.041-1.685-.041-.336 0-1.514.041V7.98q.253 0 .398-.067.15-.068.212-.233.067-.165.067-.46V3.881q0-.491-.15-.708-.15-.222-.527-.222v-.222q.336.03.656.03.936 0 1.546-.144zM46.044 8.04q.682 0 1.147-.444.465-.45.543-1.447h.222q0 1.427.046 2.093-.863-.04-2.036-.04-1.028 0-2.201.05L46.41 2.89h-.59q-1.508 0-1.653 1.891h-.222q0-1.498-.042-2.093.863.042 2.031.042 1.039 0 2.202-.052L45.49 8.04zM52.054 2.729q.496.03 1.028.03t.817-.03v.211q-.223.057-.404.264-.175.207-.33.646l-1.892 5.323q-.212.553-.465.754-.31.264-.925.264-.274 0-.542-.093-.264-.088-.44-.28-.17-.19-.17-.475 0-.325.232-.522.233-.196.615-.196.357 0 .574.176.222.175.222.49 0 .217-.145.404-.139.19-.387.284.077.01.243.01.661 0 .966-.837l.17-.507-2.247-5.1q-.166-.367-.331-.48-.16-.114-.326-.114v-.222q.698.062 1.453.062.625 0 1.472-.062v.222q-.227 0-.356.015-.13.016-.222.078-.088.062-.088.201 0 .124.072.3l1.297 3.126.724-2.036q.17-.506.17-.847 0-.403-.207-.61-.206-.212-.578-.238zM56.415 3.566q.48-.982 1.736-.982.435 0 .708.103.28.104.455.305.176.202.253.522.078.32.078.858v2.847q0 .295.067.46.067.165.212.233.145.067.398.067V8.2q-1.054-.041-1.395-.041-.326 0-1.38.041V7.98q.217 0 .341-.067.124-.068.176-.233.056-.165.056-.46V3.927q0-.434-.144-.656-.14-.222-.512-.222-.29 0-.532.16-.238.16-.377.445-.14.279-.14.62v2.945q0 .295.057.46.057.165.18.233.125.067.337.067V8.2q-.972-.041-1.313-.041-.325 0-1.462.041V7.98q.253 0 .398-.067.15-.068.211-.233.068-.165.068-.46V3.881q0-.491-.15-.708-.15-.222-.527-.222v-.222q.336.03.656.03.935 0 1.545-.144zM63.634 3.736q0-.439-.212-.692-.206-.253-.65-.253-.207 0-.414.067-.207.062-.341.19.294.1.46.311.165.207.165.522 0 .217-.108.393-.104.17-.3.274-.196.098-.45.098-.34 0-.547-.233-.202-.232-.202-.584 0-.548.59-.889.645-.356 1.611-.356 1.086 0 1.546.475.222.222.3.553.077.33.077.925v2.879q0 .258.046.366.052.104.176.104.17 0 .393-.181l.108.18q-.243.202-.527.295-.284.093-.682.093-.537 0-.775-.237-.238-.238-.238-.62-.258.428-.677.646-.418.211-.894.211-.604 0-.971-.315-.362-.32-.362-.889 0-.553.362-.914.361-.362 1.121-.641l.538-.202q.454-.175.656-.356.201-.181.201-.398zm0 1.256q-.067.114-.222.238-.15.119-.434.294-.336.233-.527.527-.191.29-.191.724 0 .413.18.62.182.201.476.201.419 0 .718-.434z"
                    ></path>
                  </g>
                </svg>
              </div>
              <div>
                <h1 class="subtitle has-text-primary mt-0">Cloud Architect</h1>
                <h2 class="subtitle has-text-primary mt-0">
                  DevOps Consultant
                </h2>
              </div>
              <div class="links">
                <nuxt-link
                  to="/about/"
                  title="Contact"
                  class="
                    button
                    is-medium is-success is-rounded is-outlined
                    has-text-weight-semibold
                  "
                  >about me</nuxt-link
                >
              </div>
            </div>
            <div class="column is-hidden-mobile">
              <div class="columns is-multiline">
                <div
                  v-for="post in latest"
                  :key="post.slug"
                  class="column is-half"
                >
                  <PartialCard :content="post" />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="hero-foot mb-4">
        <div class="stamp">
          <a href="#whoami"
            ><svg
              xmlns="http://www.w3.org/2000/svg"
              height="50"
              viewBox="0 0 330.002 330.002"
            >
              <path
                d="M327.001 99.751c-4.971-6.628-14.374-7.971-21-3l-140.997 105.75L24.001 96.751c-6.628-4.971-16.029-3.626-21 3-4.971 6.627-3.627 16.03 3 21l150.004 112.5c2.667 2 5.833 3 9 3 3.166 0 6.333-1 9-3l149.996-112.5c6.627-4.97 7.971-14.372 3-21z"
              ></path></svg
          ></a>
        </div>
      </div>
    </section>
    <section class="container">
      <LayoutBar class="has-rounded" />
    </section>
    <LayoutMenu />
  </div>
</template>

<script>
export default {
  async asyncData({ $content }) {
    const latest = await $content('', { deep: true })
      .where({ draft: false })
      .limit(4)
      .sortBy('createdAt', 'desc')
      .without(['body'])
      .fetch()

    return {
      latest,
    }
  },

  head() {
    const title = 'Piotr Perzyna'
    const description = ''

    return {
      titleTemplate: title,
      meta: [
        {
          hid: 'description',
          name: 'description',
          content: description,
        },
        {
          hid: 'canonical',
          property: 'canonical',
          content: 'https://pperzyna.com',
        },
        // Open Graph
        { hid: 'og:title', property: 'og:title', content: title },
        {
          hid: 'og:description',
          property: 'og:description',
          content: description,
        },
        // Twitter Card
        {
          hid: 'twitter:title',
          name: 'twitter:title',
          content: title,
        },
        {
          hid: 'twitter:description',
          name: 'twitter:description',
          content: description,
        },
      ],
    }
  },
}
</script>
